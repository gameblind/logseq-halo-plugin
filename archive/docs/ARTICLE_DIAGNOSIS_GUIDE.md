# Halo 文章显示问题诊断指南

## 问题描述
用户反馈：发布了8篇文章，但在 Halo 后台只能看到5篇文章。

## 新增功能

### 1. 获取文章列表命令
我们已经添加了一个新的命令来获取和分析所有文章：

**在 Logseq 中使用：**
1. 按 `Cmd+Shift+P` 打开命令面板
2. 输入 "获取 Halo 文章列表"
3. 选择并执行命令

**命令功能：**
- 获取所有文章列表（最多100篇）
- 显示每篇文章的详细信息
- 分析文章的发布状态和可见性

### 2. 调试脚本
我们还创建了一个独立的调试脚本 `debug-posts.js`，可以直接运行来诊断问题。

## 使用步骤

### 方法一：在 Logseq 中使用命令
1. 确保插件已重新加载（重启 Logseq 或重新加载插件）
2. 打开命令面板：`Cmd+Shift+P`
3. 搜索并执行："获取 Halo 文章列表"
4. 查看控制台输出和弹窗信息

### 方法二：使用调试脚本
1. 编辑 `debug-posts.js` 文件
2. 将 `YOUR_HALO_SITE_URL` 替换为你的 Halo 站点地址
3. 将 `YOUR_API_TOKEN` 替换为你的 API Token
4. 在终端运行：`node debug-posts.js`

## 可能的问题原因

### 1. 文章状态问题
- **未发布状态**：文章创建但未设置为发布状态
- **不可见状态**：文章设置为不可见
- **草稿状态**：文章保存为草稿而非正式发布

### 2. API 权限问题
- API Token 权限不足
- 只能看到特定状态的文章

### 3. 分页问题
- 后台界面可能有分页限制
- 需要翻页查看更多文章

### 4. 过滤条件
- 后台可能应用了某些过滤条件
- 检查是否有状态筛选器

## 诊断输出说明

执行命令后，你会看到类似以下的输出：

```
📊 文章统计:
总数: 8

📝 文章详情:
1. 文章标题1
   状态: ✅ 已发布 | 👁️ 可见
   ID: article-uuid-1
   创建时间: 2024-01-01T10:00:00Z
   ---
2. 文章标题2
   状态: 📝 草稿 | 🙈 隐藏
   ID: article-uuid-2
   创建时间: 2024-01-01T11:00:00Z
   ---

🔍 问题分析:
已发布文章: 6
可见文章: 5
已发布且可见: 5

⚠️ 发现问题: 有 3 篇文章可能不会在前台显示
问题文章:
- 文章标题2: 未发布, 不可见
- 文章标题3: 未发布
- 文章标题4: 不可见
```

## 解决方案

### 如果发现未发布的文章
1. 在 Halo 后台找到这些文章
2. 将状态改为"已发布"
3. 确保可见性设置正确

### 如果发现不可见的文章
1. 检查文章的可见性设置
2. 确保没有设置访问限制

### 如果所有文章状态都正常
1. 检查 Halo 后台的过滤条件
2. 尝试清除搜索和筛选
3. 检查分页设置
4. 刷新页面或重新登录

## 下一步

请先运行诊断命令，然后将输出结果提供给我们，这样我们可以：
1. 确认具体的问题原因
2. 提供针对性的解决方案
3. 如果需要，修复插件中的相关问题

## 注意事项

- 确保 API Token 有足够的权限访问文章
- 如果使用的是子域名，确保 URL 配置正确
- 检查网络连接和防火墙设置