# Logseq Halo Plugin 故障排除指南

## 当前状态确认

✅ **插件列表**：能看到 "Logseq Halo Publisher"
✅ **设置页面**：能找到插件的配置选项
❌ **快捷键**：`Cmd+Option+H` 没有反应
❌ **开发者工具**：常规方法无法打开

## 开发者工具打开方法（更新版）

### 方法一：检查开发者模式是否开启
1. 点击 Logseq 右上角设置图标 ⚙️
2. 在左侧菜单找到 "Advanced" 或 "高级"
3. 确保 "Developer mode" 或 "开发者模式" 已开启
4. 重启 Logseq 应用

### 方法二：尝试不同的快捷键组合
- `F12` (通用)
- `Cmd+Shift+I` (Mac)
- `Cmd+Alt+I` (Mac)
- `Ctrl+Shift+I` (Windows/Linux)
- `Ctrl+Shift+J` (Windows/Linux)

### 方法三：通过应用菜单
1. 点击 Logseq 顶部菜单栏的 "View" 或"查看"
2. 寻找 "Developer" 或 "开发者" 选项
3. 选择 "Toggle Developer Tools" 或类似选项

### 方法四：检查 Logseq 版本
如果以上方法都不行，可能是 Logseq 版本问题：
1. 检查当前 Logseq 版本（帮助 → 关于）
2. 确保使用的是桌面版而非网页版
3. 更新到最新版本的 Logseq

## 替代调试方法（无需开发者工具）

### 方法1：使用插件内置日志
在 Logseq 中创建一个新页面，输入以下内容来测试插件：

```
{{renderer :halo-test}}
```

### 方法2：通过命令面板测试
1. 按 `Cmd+Shift+P` (Mac) 或 `Ctrl+Shift+P` (Windows/Linux)
2. 搜索 "Halo" 或 "publish"
3. 查看是否出现 "Publish current page to Halo" 命令
4. 如果出现，点击执行看是否有反应

### 方法3：检查插件状态
1. 进入 Logseq 的 Plugins 页面
2. 找到 "Logseq Halo Publisher" 插件
3. 检查插件状态是否为 "Enabled" 或 "已启用"
4. 尝试禁用后重新启用插件

### 方法4：创建测试页面
创建一个简单的测试页面来验证插件功能：

1. 新建一个页面，命名为 "Halo Plugin Test"
2. 添加一些简单内容：
```markdown
# 测试文章

这是一个测试文章，用于验证 Halo 插件功能。

- 测试项目1
- 测试项目2
```
3. 在这个页面尝试按快捷键 `Cmd+Option+H`
4. 观察是否有任何反应（提示信息、错误等）

## 快捷键问题诊断

### 检查1：快捷键冲突
- 检查系统是否有其他应用使用 `Cmd+Option+H`
- 尝试关闭其他可能冲突的应用
- 在 macOS 系统偏好设置中检查快捷键设置

### 检查2：Logseq 焦点
- 确保点击了 Logseq 窗口使其获得焦点
- 尝试在不同的页面按快捷键
- 确保不是在设置页面或插件页面按快捷键

### 检查3：插件重新加载
1. 进入 Plugins 页面
2. 找到 "Logseq Halo Publisher"
3. 点击重新加载按钮（通常是一个刷新图标）
4. 重新加载后再次测试快捷键

## 手动测试插件功能

### 测试1：检查插件设置
1. 进入 Logseq 设置
2. 找到插件设置部分
3. 查看 "Halo Publisher" 的配置选项
4. 确认是否有 "Halo 站点配置" 等选项

### 测试2：配置测试站点
在插件设置中添加一个测试配置：
```json
[
  {
    "name": "测试站点",
    "url": "https://demo.halo.run",
    "token": "test-token",
    "isDefault": true
  }
]
```

### 测试3：查看插件帮助
1. 在命令面板中搜索 "Halo 配置帮助"
2. 执行该命令看是否有反应
3. 这可以验证插件的基本功能是否正常

## 常见问题解决方案

### 问题1：插件显示但功能不工作
**可能原因：**
- 插件代码有错误
- 快捷键冲突
- Logseq 版本兼容性问题

**解决方案：**
1. 重新构建插件：在终端运行 `npm run build`
2. 重新加载插件
3. 重启 Logseq 应用

### 问题2：命令面板找不到命令
**可能原因：**
- 命令注册失败
- 插件初始化错误

**解决方案：**
1. 检查插件是否真正启用
2. 查看插件设置是否正确
3. 尝试禁用其他插件避免冲突

### 问题3：快捷键在特定情况下不工作
**可能原因：**
- 页面类型限制
- 输入框焦点问题

**解决方案：**
1. 在普通笔记页面测试
2. 确保不在编辑模式下
3. 点击页面空白处再按快捷键

## 收集调试信息

如果以上方法都无法解决问题，请收集以下信息：

1. **Logseq 版本**：帮助 → 关于
2. **操作系统版本**：macOS/Windows/Linux 及具体版本
3. **插件状态**：是否显示为已启用
4. **命令面板测试结果**：能否找到 Halo 相关命令
5. **插件设置截图**：显示插件配置界面
6. **错误现象描述**：具体什么情况下不工作

## 临时解决方案

如果快捷键始终不工作，可以使用以下替代方法：

1. **使用命令面板**：`Cmd+Shift+P` → 搜索 "Halo" → 执行命令
2. **创建自定义快捷键**：在 Logseq 设置中为插件命令分配新的快捷键
3. **使用工具栏按钮**：如果插件提供了工具栏按钮

这些方法可以帮助你在解决快捷键问题的同时继续使用插件功能。